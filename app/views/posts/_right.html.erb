<% if user_signed_in? %>
<aside class='menu has-background-black has-text-white'>
  <p class='menu-label'>pending friend requests
  </p>
  <% if current_user.friendships.pending.empty? %>
    <div class='card has-background-black has-text-white'>
      <div class='card-header'>
        <p class='card-header-title'>
        no new friend requests
        </p>
      </div>
    </div>    
  <% end %>
  <% current_user.friendships.pending.each do |f| %>
    <% if f.inviter != current_user %>
    <div class='card has-background-black has-text-white'>
      <div class='card-header'>
      <%= link_to user_path(f.inviter) do %>
        <div class="card-image">
          <figure class="image is-64x64">
            <%= gravatar_image_tag(f.inviter.email, size: 64, alt: f.inviter.name ) %>
          </figure>
        </div>
        <p class='card-header-title has-text-white'>
          <%= f.inviter.name %>
        </p>
      </div>
      <% end %>  
      <div class='card-footer'>
        <div class='card-footer-item'>
          <%= button_to 'accept', accept_friend_path(f), method: :post, class: 'button is-success' %>
          <%= button_to 'reject', destroy_friendship_path(f), method: :post, class: 'button is-danger' %>
        </div>
      </div>  
    </div>
    <% else %>
    <div class='card has-background-black has-text-white'>
      <div class='card-header'>
      <%= link_to user_path(f.accepter) do %>
        <div class="card-image">
          <figure class="image is-64x64">
            <%= gravatar_image_tag(f.accepter.email, size: 64, alt: f.accepter.name ) %>
          </figure>
        </div>
        <p class='card-header-title has-text-white'>
          <%= f.accepter.name %>
        </p>
      </div>
      <% end %>  
      <div class='card-footer'>
        <div class='card-footer-item'>
          <button class='button is-static'>invited</button>
        </div>
      </div>    
    <% end %>
  <% end %>
</aside>  
<% end %>

